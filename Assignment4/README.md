Задание 4: Служба аутентификации и обновления токенов FastAPI JWT
Данный проект реализует API-сервис аутентификации и авторизации пользователей на базе фреймворка FastAPI, контейнеризованный с использованием Docker. Он использует JSON Web Tokens (JWT) для входа пользователей и доступа к защищенным ресурсам, а также предоставляет механизм двойного токена (Access Token и Refresh Token).
Стек технологий
●Фреймворк: FastAPI (Python 3.11+)
●База данных: PostgreSQL (развернута через Docker Compose)
●ORM: SQLAlchemy 2.0+ (асинхронный режим asyncpg)
●Аутентификация: JWT (Access/Refresh Tokens), хеширование паролей Passlib
●Контейнеризация: Docker и Docker Compose
Настройка окружения и запуск
Проект требует наличия Docker для запуска базы данных PostgreSQL, кэша Redis (хотя логика Redis на данный момент полностью не реализована) и приложения FastAPI.
Шаг 1: Запуск сервисов
Выполните следующие команды в корневом каталоге проекта:
docker compose down -v
docker compose up --build -d
Шаг 2: Доступ к документации API
После успешного запуска сервиса вы можете получить доступ к интерактивной документации Swagger UI по следующему адресу:
●Документация API (Swagger UI): http://localhost:8000/docs
Шаг 3: Основной порядок использования
1.Регистрация (Register): Используйте маршрут /register для создания нового пользователя.
2.Вход (Login): Используйте маршрут /login, передав email и пароль, чтобы получить Access Token и Refresh Token.
3.Доступ к защищенным ресурсам: Используйте полученный Access Token для доступа к маршруту /me.
4.Обновление токена (Refresh): После истечения срока действия Access Token используйте Refresh Token для доступа к маршруту /refresh, чтобы получить новые Access Token и Refresh Token.
Остановка сервисов
После завершения тестирования выполните следующую команду для остановки и очистки контейнеров:
docker compose down